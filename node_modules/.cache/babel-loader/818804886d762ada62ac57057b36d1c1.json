{"ast":null,"code":"import _regeneratorRuntime from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/victor/Documents/dadTools/emailFinder/src/Message.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nvar Message =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Message, _React$Component);\n\n  function Message(props) {\n    var _this;\n\n    _classCallCheck(this, Message);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Message).call(this, props));\n\n    _this.changeSubject = function (e) {\n      var s = _objectSpread({}, _this.state);\n\n      s.subject = e.target.value;\n\n      _this.setState(s);\n    };\n\n    _this.changeMessage = function (e) {\n      var text = e.target.value;\n\n      _this.setState({\n        text: text\n      });\n    };\n\n    _this.getCursPos = function (e) {\n      var text = document.getElementById('emailEditor');\n      console.log(text.selectionStart, text.selectionEnd);\n    };\n\n    _this.sendMessage = function () {\n      var body = \"\";\n\n      for (var h in _this.state.headers) {\n        body += h += \": \" + _this.state.headers[h] + \"\\r\\n\";\n      }\n\n      body += \"\\r\\n\" + _this.state.text;\n      console.log(body);\n      var sendRequest = window.gapi.client.gmail.users.messages.send({\n        'userId': 'me',\n        'resource': {\n          'raw': window.btoa(body).replace(/\\+/g, '-').replace(/\\//g, '_')\n        }\n      });\n      return sendRequest.execute(function (a) {\n        console.log(a);\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.saveTemplate =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var resp;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post('http://localhost:4000/recordtemplate', {\n                name: \"template1\",\n                subject: _this.state.headers.subject,\n                text: _this.state.text\n              });\n\n            case 2:\n              resp = _context.sent;\n              console.log(resp);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      headers: {\n        from: \"vicfaucon@gmail.com\",\n        to: \"victorfaucon@hotmail.fr\",\n        subject: \"Full Stack Engineer position at \"\n      },\n      text: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Message, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"EmailForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"To\",\n        value: this.props.selAdd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        placeholder: \"Subject\",\n        onChange: this.changeSubject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"volvo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Volvo\"), React.createElement(\"option\", {\n        value: \"saab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Saab\"), React.createElement(\"option\", {\n        value: \"mercedes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Mercedes\"), React.createElement(\"option\", {\n        value: \"audi\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Audi\")), React.createElement(\"textarea\", {\n        id: \"emailEditor\",\n        placeholder: \"Type your email\",\n        onChange: this.changeMessage,\n        onClick: this.getCursPos,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.sendMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Send\"), React.createElement(\"button\", {\n        onClick: this.saveTemplate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Save Template\")));\n    }\n  }]);\n\n  return Message;\n}(React.Component);\n\nexport default Message;","map":{"version":3,"sources":["/home/victor/Documents/dadTools/emailFinder/src/Message.js"],"names":["React","axios","Message","props","changeSubject","e","s","state","subject","target","value","setState","changeMessage","text","getCursPos","document","getElementById","console","log","selectionStart","selectionEnd","sendMessage","body","h","headers","sendRequest","window","gapi","client","gmail","users","messages","send","btoa","replace","execute","a","error","saveTemplate","post","name","resp","from","to","selAdd","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nclass Message extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            headers: {\n                from:\"vicfaucon@gmail.com\",\n                to:\"victorfaucon@hotmail.fr\",\n                subject: \"Full Stack Engineer position at \"\n            },\n            text: \"\"\n    }\n    }\n\n\n    changeSubject = (e) => {\n        let s = { ...this.state };\n        s.subject = e.target.value;\n        this.setState(s);\n    }\n\n    changeMessage = (e) => {\n        let text = e.target.value\n        this.setState( { text } );\n    }\n\n    getCursPos = (e) => {\n        let text = document.getElementById('emailEditor');\n        console.log(text.selectionStart, text.selectionEnd);\n\n    }\n\n    sendMessage = () => {\n        let body = \"\"\n        for(let h in this.state.headers){\n            body += h += \": \" + this.state.headers[h] + \"\\r\\n\"\n        }\n        body += \"\\r\\n\" + this.state.text;\n\n        console.log(body)\n\n        const sendRequest = window.gapi.client.gmail.users.messages.send({\n            'userId': 'me',\n            'resource': {\n                'raw': window.btoa(body).replace(/\\+/g, '-').replace(/\\//g, '_')\n            }\n        })\n\n        return sendRequest.execute((a)=> {console.log(a)}, (error)=>{console.log(error)})\n\n    }\n\n    saveTemplate = async () => {\n        let resp = await axios.post('http://localhost:4000/recordtemplate', {\n            name: \"template1\",\n            subject: this.state.headers.subject,\n            text: this.state.text\n        })\n        console.log(resp);\n    }\n\n    render(){\n        return(\n            <div className=\"Message\">\n                <div className=\"EmailForm\">\n                    <input placeholder=\"To\" value={this.props.selAdd}/>\n                    <input  placeholder=\"Subject\" onChange={this.changeSubject}/>\n                    <select>\n                        <option value=\"volvo\">Volvo</option>\n                        <option value=\"saab\">Saab</option>\n  <option value=\"mercedes\">Mercedes</option>\n  <option value=\"audi\">Audi</option>\n</select>\n                    <textarea  id=\"emailEditor\" placeholder=\"Type your email\" onChange={this.changeMessage} onClick={this.getCursPos}/>\n                    <button onClick={this.sendMessage}>Send</button>\n                    <button onClick={this.saveTemplate}>Save Template</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Message;"]},"metadata":{},"sourceType":"module"}