{"ast":null,"code":"import _defineProperty from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/victor/Documents/dadTools/emailFinder/src/App.js\";\nimport React from 'react';\nimport Address from './components/Address';\nimport WritingEmail from './views/writingEmail';\nimport Header from './Header';\nimport Home from './views/Home';\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.handleAuthClick = function (event) {\n      window.gapi.auth2.getAuthInstance().signIn();\n      console.log(window.gapi);\n    };\n\n    _this.handleSignoutClick = function (event) {\n      window.gapi.auth2.getAuthInstance().signOut();\n    };\n\n    _this.appendPre = function (message) {// var pre = document.getElementById('content');\n      // var textContent = document.createTextNode(message + '\\n');\n      // pre.appendChild(textContent);\n    };\n\n    _this.listLabels = function () {\n      var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n      window.gapi.client.gmail.users.labels.list({\n        'userId': 'me'\n      }).then(function (response) {\n        var labels = response.result.labels;\n        that.appendPre('Labels:');\n\n        if (labels && labels.length > 0) {\n          for (var i = 0; i < labels.length; i++) {\n            var label = labels[i];\n            that.appendPre(label.name);\n          }\n        } else {\n          that.appendPre('No Labels found.');\n        }\n      });\n    };\n\n    _this.selectAddress = function (i) {\n      var selAdd = _this.state.emails[i];\n      var emails = [];\n      console.log(_this.state.name);\n\n      _this.setState({\n        selAdd: selAdd,\n        emails: emails\n      });\n\n      console.log(_this.props.history);\n    };\n\n    _this.state = {\n      selAdd: false,\n      emails: [],\n      CLIENT_ID: '605121789952-64i5u4ggvju6qhlmkrkv71ol78qbk5aa.apps.googleusercontent.com',\n      API_KEY: 'AIzaSyBkrt40jx5wx3PG4S5W9B49Vm02RNh4vt0',\n      DISCOVERY_DOCS: [\"https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest\"],\n      // Authorization scopes required by the API; multiple scopes can be\n      // included, separated by spaces.\n      SCOPES: 'https://www.googleapis.com/auth/gmail.readonly' + ' https://www.googleapis.com/auth/gmail.send'\n    };\n    _this.single = _this.single.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.initClient = _this.initClient.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateSigninStatus = _this.updateSigninStatus.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"initClient\",\n    value: function initClient() {\n      var s = this.state;\n      var that = this;\n      window.gapi.client.init({\n        apiKey: s.API_KEY,\n        clientId: s.CLIENT_ID,\n        discoveryDocs: s.DISCOVERY_DOCS,\n        scope: s.SCOPES\n      }).then(function () {\n        // Listen for sign-in state changes.\n        window.gapi.auth2.getAuthInstance().isSignedIn.listen(that.updateSigninStatus); // Handle the initial sign-in state.\n\n        that.updateSigninStatus(window.gapi.auth2.getAuthInstance().isSignedIn.get());\n      }, function (error) {\n        console.log(error);\n        this.appendPre(JSON.stringify(error, null, 2));\n      });\n    }\n  }, {\n    key: \"updateSigninStatus\",\n    value: function updateSigninStatus(isSignedIn) {\n      var authorizeButton = document.getElementById('authorize_button');\n      var signoutButton = document.getElementById('signout_button');\n\n      if (isSignedIn) {\n        authorizeButton.style.display = 'none';\n        signoutButton.style.display = 'block';\n        this.listLabels();\n      } else {\n        authorizeButton.style.display = 'block';\n        signoutButton.style.display = 'none';\n      }\n    }\n    /**\n       *  Sign in the user upon button click.\n       */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.gapi.load('client:auth2', this.initClient);\n    }\n  }, {\n    key: \"single\",\n    value: function single(obj) {\n      var _this2 = this;\n\n      var forced = {\n        first: \"chris\",\n        last: \"lee\",\n        domain: \"bauerxcel.com\"\n      };\n      fetch(\"http://localhost:4000/single\", {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(obj)\n      }).then(function (data) {\n        console.log(data);\n        return data.json();\n      }).then(function (emails) {\n        var name = _objectSpread({}, obj);\n\n        _this2.setState({\n          emails: emails,\n          name: name\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.selAdd) {\n        return React.createElement(Redirect, {\n          to: \"/email\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/email\",\n        component: function component() {\n          var _React$createElement;\n\n          return React.createElement(WritingEmail, (_React$createElement = {\n            selectAddress: _this3.selectAddress,\n            single: _this3.single,\n            selAdd: _this3.state.selAdd\n          }, _defineProperty(_React$createElement, \"single\", _this3.single), _defineProperty(_React$createElement, \"emails\", _this3.state.emails), _defineProperty(_React$createElement, \"selectAddress\", _this3.selectAddress), _defineProperty(_React$createElement, \"name\", _this3.state.name), _defineProperty(_React$createElement, \"changeName\", _this3.changeName), _defineProperty(_React$createElement, \"__source\", {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/find\",\n        component: function component() {\n          return React.createElement(Address, {\n            single: _this3.single,\n            emails: _this3.state.emails,\n            selectAddress: _this3.selectAddress,\n            selAdd: _this3.state.selAdd,\n            changeName: _this3.changeName,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        component: function component() {\n          return React.createElement(Home, {\n            single: _this3.single,\n            emails: _this3.state.emails,\n            selectAddress: _this3.selectAddress,\n            selAdd: _this3.state.selAdd,\n            changeName: _this3.changeName,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default withRouter(App);","map":{"version":3,"sources":["/home/victor/Documents/dadTools/emailFinder/src/App.js"],"names":["React","Address","WritingEmail","Header","Home","Switch","Route","Redirect","withRouter","App","props","handleAuthClick","event","window","gapi","auth2","getAuthInstance","signIn","console","log","handleSignoutClick","signOut","appendPre","message","listLabels","that","client","gmail","users","labels","list","then","response","result","length","i","label","name","selectAddress","selAdd","state","emails","setState","history","CLIENT_ID","API_KEY","DISCOVERY_DOCS","SCOPES","single","bind","initClient","updateSigninStatus","s","init","apiKey","clientId","discoveryDocs","scope","isSignedIn","listen","get","error","JSON","stringify","authorizeButton","document","getElementById","signoutButton","style","display","load","obj","forced","first","last","domain","fetch","method","headers","body","data","json","changeName","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Address from './components/Address';\nimport WritingEmail from './views/writingEmail';\nimport Header from './Header';\nimport Home from './views/Home';\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\n\n\nclass App extends React.Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            selAdd: false,\n            emails: [],\n            CLIENT_ID: '605121789952-64i5u4ggvju6qhlmkrkv71ol78qbk5aa.apps.googleusercontent.com',\n            API_KEY: 'AIzaSyBkrt40jx5wx3PG4S5W9B49Vm02RNh4vt0',\n            DISCOVERY_DOCS: [\"https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest\"],\n       \n            // Authorization scopes required by the API; multiple scopes can be\n            // included, separated by spaces.\n            SCOPES: 'https://www.googleapis.com/auth/gmail.readonly'+' https://www.googleapis.com/auth/gmail.send'\n\n        }\n        this.single = this.single.bind(this);\n        this.initClient = this.initClient.bind(this);\n        this.updateSigninStatus = this.updateSigninStatus.bind(this);\n\n\n    }\n\n\n    initClient() {\n        const s = this.state;\n        let that = this;\n        window.gapi.client.init({\n          apiKey: s.API_KEY,\n          clientId: s.CLIENT_ID,\n          discoveryDocs: s.DISCOVERY_DOCS,\n          scope: s.SCOPES\n        }).then(function () {\n          // Listen for sign-in state changes.\n          window.gapi.auth2.getAuthInstance().isSignedIn.listen(that.updateSigninStatus);\n\n          // Handle the initial sign-in state.\n          that.updateSigninStatus(window.gapi.auth2.getAuthInstance().isSignedIn.get());\n         \n        }, function(error) {\n            console.log(error);\n            this.appendPre(JSON.stringify(error, null, 2));\n        });\n      }\n\n\n\n    updateSigninStatus(isSignedIn) {\n        var authorizeButton = document.getElementById('authorize_button');\n        var signoutButton = document.getElementById('signout_button');\n        if (isSignedIn) {\n          authorizeButton.style.display = 'none';\n          signoutButton.style.display = 'block';\n          this.listLabels();\n        } else {\n          authorizeButton.style.display = 'block';\n          signoutButton.style.display = 'none';\n        }\n      }\n\n\n    /**\n       *  Sign in the user upon button click.\n       */\n      handleAuthClick = (event) => {\n        window.gapi.auth2.getAuthInstance().signIn();\n        console.log(window.gapi);\n      }\n\n      /**\n       *  Sign out the user upon button click.\n       */\n      handleSignoutClick = (event) => {\n        window.gapi.auth2.getAuthInstance().signOut();\n      }\n\n      appendPre = (message) => {\n        // var pre = document.getElementById('content');\n        // var textContent = document.createTextNode(message + '\\n');\n        // pre.appendChild(textContent);\n      }\n      \n      \n      listLabels = () => {\n        let that = this;\n        window.gapi.client.gmail.users.labels.list({\n          'userId': 'me'\n        }).then(function(response) {\n          var labels = response.result.labels;\n          that.appendPre('Labels:');\n\n          if (labels && labels.length > 0) {\n            for (let i = 0; i < labels.length; i++) {\n              var label = labels[i];\n              that.appendPre(label.name)\n            }\n          } else {\n            that.appendPre('No Labels found.');\n          }\n        });\n      }\n\n\n    componentDidMount(){\n        window.gapi.load('client:auth2', this.initClient);\n\n\n    }\n\n    selectAddress = (i) => {\n        let selAdd = this.state.emails[i];\n        let emails = []\n        console.log(this.state.name);\n        this.setState( { selAdd, emails } );\n        console.log(this.props.history);\n    }\n\n    single(obj) {\n        let forced = {\n            first: \"chris\",\n            last: \"lee\",\n            domain: \"bauerxcel.com\"\n        }\n        fetch(\"http://localhost:4000/single\", { \n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',   \n                'Content-Type': 'application/json'\n              },\n            body: JSON.stringify(obj)\n        }).then(data => {\n            console.log(data);\n            return data.json()})\n        .then(emails => {\n          let name = {...obj};\n          this.setState( { emails, name } )\n        })\n    \n    }\n\n\n    render(){\n\n      if(this.state.selAdd){\n          return <Redirect to='/email'/>\n      }\n\n        \n        return (\n            <div className=\"App\">\n              <Header/>\n              <Switch>\n                <Route path=\"/email\" component={()=>{return <WritingEmail selectAddress={this.selectAddress} single={this.single} selAdd={this.state.selAdd} single={this.single} emails={this.state.emails} selectAddress={this.selectAddress} name={this.state.name} changeName={this.changeName}/> }}/>\n                <Route path=\"/find\" component={() => {return <Address single={this.single} emails={this.state.emails} selectAddress={this.selectAddress} selAdd={this.state.selAdd} changeName={this.changeName}/>}}/>\n                <Route path=\"/\" component={() => {return <Home single={this.single} emails={this.state.emails} selectAddress={this.selectAddress} selAdd={this.state.selAdd} changeName={this.changeName}/>}}/>\n              </Switch>\n\n            </div>\n        )\n    }\n}\n\nexport default withRouter(App);"]},"metadata":{},"sourceType":"module"}