{"ast":null,"code":"import _regeneratorRuntime from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/victor/Documents/dadTools/emailFinder/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/victor/Documents/dadTools/emailFinder/src/components/Message.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Switch from \"react-switch\";\n\nvar Message =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Message, _React$Component);\n\n  function Message(props) {\n    var _this;\n\n    _classCallCheck(this, Message);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Message).call(this, props));\n\n    _this.changeSubject = function (e) {\n      var s = _objectSpread({}, _this.state);\n\n      s.subject = e.target.value;\n\n      _this.setState(s);\n    };\n\n    _this.changeMessage = function (e) {\n      var text = e.target.value;\n\n      _this.setState({\n        text: text\n      });\n\n      if (_this.state.mode) {\n        _this.setState({\n          template: text\n        });\n      } else {\n        _this.setState({\n          rendered: text\n        });\n      }\n\n      _this.setState({\n        rendered: text\n      });\n    };\n\n    _this.upFirst = function (word) {\n      return word.charAt(0).toUpperCase() + word.slice(1);\n    };\n\n    _this.changeMode = function () {\n      _this.setState({\n        mode: _this.props.name ? !_this.state.mode : true\n      });\n\n      if (_this.state.templateId) _this.selectTemplate(_this.state.templateId);\n    };\n\n    _this.placeAttribute = function (e) {\n      if (e.target.value === 'Add attribute') return;\n\n      var textemp = _this.state.template.slice(0);\n\n      var text = document.getElementById('emailEditor');\n      var nwTemp = textemp.split(\"\");\n\n      if (text.selectionStart === text.selectionEnd) {\n        var _nwTemp;\n\n        (_nwTemp = nwTemp).splice.apply(_nwTemp, [text.selectionStart, 0].concat(_toConsumableArray(\"{\" + e.target.value + \"}\".split(''))));\n      } else {\n        var _nwTemp2;\n\n        (_nwTemp2 = nwTemp).splice.apply(_nwTemp2, [text.selectionStart, text.selectionEnd - text.selectionStart].concat(_toConsumableArray(\"{\" + e.target.value + \"}\".split(''))));\n      }\n\n      nwTemp = nwTemp.join(\"\");\n      console.log(nwTemp);\n\n      _this.setState({\n        template: nwTemp,\n        rendered: nwTemp\n      });\n\n      document.getElementsByTagName('select')[0].setAttribute('value', 'Add attribute');\n    };\n\n    _this.sendMessage = function () {\n      var body = \"\";\n\n      for (var h in _this.state.headers) {\n        body += h += \": \" + _this.state.headers[h] + \"\\r\\n\";\n      }\n\n      body += \"\\r\\n\" + _this.state.text;\n      console.log(_this.state.text);\n      console.log(body); //replace(/\\+/g, '-').replace(/\\//g, '_')\n\n      var sendRequest = window.gapi.client.gmail.users.messages.send({\n        'userId': 'me',\n        'resource': {\n          'raw': window.btoa(body)\n        }\n      });\n      return sendRequest.execute(function (a) {\n        console.log(a);\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.templateAction =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(action) {\n        var del, upd;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.t0 = action;\n                _context2.next = _context2.t0 === \"save\" ? 3 : _context2.t0 === \"delete\" ? 5 : _context2.t0 === \"update\" ? 10 : _context2.t0 === \"new\" ? 15 : 17;\n                break;\n\n              case 3:\n                axios.post('http://localhost:4000/recordtemplate', {\n                  name: document.getElementById(\"templateName\").value,\n                  subject: _this.state.headers.subject,\n                  text: _this.state.template\n                }).then(\n                /*#__PURE__*/\n                function () {\n                  var _ref2 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee(resp) {\n                    var templates;\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            console.log(resp);\n\n                            _this.setState({\n                              newTemplate: false,\n                              templateId: document.getElementById(\"templateName\").value\n                            });\n\n                            _context.next = 4;\n                            return axios('http://localhost:4000/gettemplate');\n\n                          case 4:\n                            templates = _context.sent;\n                            console.log(templates);\n                            templates = templates.data.hits.hits;\n\n                            _this.setState({\n                              templates: templates\n                            }, function () {\n                              console.log(_this.state);\n                            });\n\n                          case 8:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x2) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }());\n                return _context2.abrupt(\"break\", 17);\n\n              case 5:\n                _context2.next = 7;\n                return axios.post(\"http://localhost:4000/deletetemplate\", {\n                  name: _this.state.templateId\n                });\n\n              case 7:\n                del = _context2.sent;\n                console.log(del);\n                return _context2.abrupt(\"break\", 17);\n\n              case 10:\n                _context2.next = 12;\n                return axios.post('http://localhost:4000/updatetemplate', {\n                  name: _this.state.templateId,\n                  text: _this.state.template\n                });\n\n              case 12:\n                upd = _context2.sent;\n                console.log(upd);\n                return _context2.abrupt(\"break\", 17);\n\n              case 15:\n                if (_this.state.templateId) _this.templateAction(\"update\");\n\n                _this.setState({\n                  template: \"\",\n                  text: \"\",\n                  templateId: false,\n                  newTemplate: true\n                });\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.selectTemplate = function (id) {\n      if (id === 'Add template') return;\n      console.log(id);\n\n      _this.setState({\n        templateId: id\n      }, function () {\n        console.log(_this.state.templateId);\n        var text = '';\n\n        if (_this.state.mode) {\n          text = _this.state.templates.get(_this.state.templateId);\n          console.log(text);\n          text = text.text;\n\n          _this.setState({\n            template: text,\n            rendered: text\n          });\n        } else {\n          text = _this.state.templates.get(_this.state.templateId);\n          text = text.text;\n\n          _this.setState({\n            template: text\n          }, _this.loadTemplate());\n        }\n      });\n    };\n\n    _this.loadTemplate = function () {\n      var text = _this.state.template.split('');\n\n      console.log(text);\n\n      var first = _this.upFirst(_this.props.name.first);\n\n      var last = _this.upFirst(_this.props.name.last);\n\n      var company = _this.upFirst(_this.props.name.domain.split('.')[0]);\n\n      for (var i = 0; i < text.length - 1; i++) {\n        if (text[i] === '{') {\n          var j = i;\n\n          while (text[j] !== \"}\") {\n            j = j + 1;\n          }\n\n          var word = text.slice(i + 1, j).join('');\n          var repwr = void 0;\n\n          switch (word) {\n            case \"FullName\":\n              repwr = first + \" \" + last;\n              break;\n\n            case \"FirstName\":\n              repwr = first;\n              console.log(text[i], first);\n              break;\n\n            case \"LastName\":\n              repwr = last;\n              break;\n\n            case \"Company\":\n              repwr = company;\n              break;\n          }\n\n          text.splice(i, j - i + 1, repwr);\n        }\n      }\n\n      text = text.join('');\n\n      _this.setState({\n        text: text,\n        rendered: text\n      });\n    };\n\n    _this.state = {\n      headers: {\n        from: \"vicfaucon@gmail.com\",\n        to: \"vicfaucon@gmail.com\",\n        subject: \"Full Stack Engineer position at \"\n      },\n      text: '',\n      templates: new Map(),\n      rendered: '',\n      template: '',\n      mode: false,\n      newTemplate: false\n    };\n    return _this;\n  }\n\n  _createClass(Message, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        var response, templates, key;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log(this.props);\n                _context3.next = 3;\n                return axios('http://localhost:4000/gettemplate');\n\n              case 3:\n                response = _context3.sent;\n                response = response.data.hits.hits;\n                templates = new Map();\n\n                for (key in response) {\n                  templates.set(response[key]._id, response[key]._source);\n                }\n\n                this.setState({\n                  templates: templates\n                }, function () {\n                  console.log(_this2.state);\n                });\n                this.changeMode();\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var templates = [];\n      this.state.templates.forEach(function (x, i) {\n        if (x) templates.push(React.createElement(\"option\", {\n          key: i,\n          value: x.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, x.name));\n      });\n      var tempSet = React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        onClick: this.placeAttribute,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Add attribute\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Add attribute\"), React.createElement(\"option\", {\n        value: \"FullName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Full Name\"), React.createElement(\"option\", {\n        value: \"FirstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(\"option\", {\n        value: \"LastName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Last Name\"), React.createElement(\"option\", {\n        value: \"Company\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"Company\")));\n      return React.createElement(\"div\", {\n        className: \"Message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"EmailForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"to\",\n        placeholder: \"To\",\n        value: this.props.selAdd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"subject\",\n        placeholder: \"Subject\",\n        onChange: this.changeSubject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, this.state.newTemplate ? React.createElement(\"input\", {\n        id: \"templateName\",\n        placeholder: \"Name the new template\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }) : null, this.state.mode ? tempSet : null, React.createElement(Switch, {\n        className: \"Switch\",\n        onChange: this.changeMode,\n        checked: this.state.mode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }), this.state.newTemplate ? null : React.createElement(\"select\", {\n        id: \"templatesName\",\n        onClick: function onClick(e) {\n          return _this3.selectTemplate(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Add template\"), templates)), React.createElement(\"textarea\", {\n        id: \"emailEditor\",\n        placeholder: \"Type your email\",\n        onChange: this.changeMessage,\n        onClick: this.getCursPos,\n        value: this.state.rendered,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), this.state.mode ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"delete\",\n        onClick: function onClick(e) {\n          return _this3.templateAction(e.target.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"Delete\"), React.createElement(\"button\", {\n        id: \"update\",\n        onClick: function onClick(e) {\n          return _this3.templateAction(e.target.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"Update\")) : React.createElement(\"button\", {\n        onClick: this.sendMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Send\"), this.state.newTemplate ? React.createElement(\"button\", {\n        id: \"save\",\n        onClick: function onClick(e) {\n          return _this3.templateAction(e.target.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"Save\") : React.createElement(\"button\", {\n        id: \"new\",\n        onClick: function onClick(e) {\n          return _this3.templateAction(e.target.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"New\")));\n    }\n  }]);\n\n  return Message;\n}(React.Component);\n\nexport default Message;","map":{"version":3,"sources":["/home/victor/Documents/dadTools/emailFinder/src/components/Message.js"],"names":["React","axios","Switch","Message","props","changeSubject","e","s","state","subject","target","value","setState","changeMessage","text","mode","template","rendered","upFirst","word","charAt","toUpperCase","slice","changeMode","name","templateId","selectTemplate","placeAttribute","textemp","document","getElementById","nwTemp","split","selectionStart","selectionEnd","splice","join","console","log","getElementsByTagName","setAttribute","sendMessage","body","h","headers","sendRequest","window","gapi","client","gmail","users","messages","send","btoa","execute","a","error","templateAction","action","post","then","resp","newTemplate","templates","data","hits","del","upd","id","get","loadTemplate","first","last","company","domain","i","length","j","repwr","from","to","Map","response","key","set","_id","_source","forEach","x","push","tempSet","selAdd","getCursPos","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Switch from \"react-switch\";\n\nclass Message extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            headers: {\n                from:\"vicfaucon@gmail.com\",\n                to:\"vicfaucon@gmail.com\",\n                subject: \"Full Stack Engineer position at \"\n            },\n            text: '',\n            templates: new Map(),\n            rendered: '',\n            template: '',\n            mode: false,\n            newTemplate: false\n        }\n    }\n\n    async componentDidMount(){\n        console.log(this.props);\n        let response = await axios('http://localhost:4000/gettemplate');\n        response = response.data.hits.hits;\n        let templates = new Map();\n        for(let key in response){\n            templates.set(response[key]._id, response[key]._source);\n        }\n        this.setState( { templates }, ()=>{console.log(this.state)} );\n        this.changeMode();\n    }\n\n\n    changeSubject = (e) => {\n        let s = { ...this.state };\n        s.subject = e.target.value;\n        this.setState(s);\n    }\n\n    changeMessage = (e) => {\n        let text = e.target.value;\n        this.setState( { text } );\n        if(this.state.mode) {\n            this.setState( { template: text } );\n        } else {\n            this.setState( { rendered: text } );\n        }\n        this.setState( {rendered: text} )\n    }\n\n    upFirst = (word) => {\n        return word.charAt(0).toUpperCase() + word.slice(1);\n\n    }\n\n    changeMode = () => {\n        this.setState( {mode: this.props.name ? !this.state.mode : true} );\n        if(this.state.templateId) this.selectTemplate(this.state.templateId);\n    }\n\n  \n\n    placeAttribute = (e) => {\n\n        if(e.target.value === 'Add attribute') return;\n\n    \n        let textemp = this.state.template.slice(0);\n\n        let text = document.getElementById('emailEditor');\n\n        let nwTemp = textemp.split(\"\")\n\n        if(text.selectionStart === text.selectionEnd){\n            nwTemp.splice(text.selectionStart, 0, ...\"{\"+e.target.value+\"}\".split(''));\n        } else {\n            nwTemp.splice(text.selectionStart, text.selectionEnd - text.selectionStart, ...\"{\"+e.target.value+\"}\".split(''))\n        }\n\n        nwTemp = nwTemp.join(\"\");\n\n        console.log(nwTemp);\n        \n        this.setState( { template: nwTemp, rendered: nwTemp} );\n        document.getElementsByTagName('select')[0].setAttribute('value', 'Add attribute')\n\n    }\n\n    sendMessage = () => {\n        let body = \"\"\n        for(let h in this.state.headers){\n            body += h += \": \" + this.state.headers[h] + \"\\r\\n\"\n        }\n        body += \"\\r\\n\" + this.state.text;\n        console.log(this.state.text);\n\n        console.log(body)\n        //replace(/\\+/g, '-').replace(/\\//g, '_')\n        const sendRequest = window.gapi.client.gmail.users.messages.send({\n            'userId': 'me',\n            'resource': {\n                'raw': window.btoa(body)\n            }\n        })\n\n        return sendRequest.execute((a)=> {console.log(a)}, (error)=>{console.log(error)})\n\n    }\n\n    templateAction = async (action) => {\n        switch(action){\n            case \"save\":\n                axios.post('http://localhost:4000/recordtemplate', {\n                    name: document.getElementById(\"templateName\").value,\n                    subject: this.state.headers.subject,\n                    text: this.state.template\n                }).then(async (resp) => {\n                    console.log(resp);\n                    this.setState({newTemplate: false, templateId:document.getElementById(\"templateName\").value });\n                    let templates = await axios('http://localhost:4000/gettemplate');\n                    console.log(templates);\n                    templates = templates.data.hits.hits;\n                    this.setState( { templates }, ()=>{console.log(this.state)} );\n                });\n                break;\n            \n            case \"delete\":\n                let del = await axios.post(\"http://localhost:4000/deletetemplate\", {name: this.state.templateId});\n                console.log(del);\n                break;\n\n            case \"update\":\n                let upd = await axios.post('http://localhost:4000/updatetemplate', {name: this.state.templateId, text: this.state.template});\n                console.log(upd);\n                break;\n\n            case \"new\":\n                if(this.state.templateId) this.templateAction(\"update\");\n                this.setState({template:\"\", text:\"\", templateId: false, newTemplate: true})\n                \n\n        }\n\n    }\n \n    selectTemplate = (id) => {\n        if(id === 'Add template') return;\n        console.log(id)\n\n\n        this.setState( {templateId: id}, () => {\n            console.log(this.state.templateId);\n        let text = '';\n\n        if(this.state.mode) {\n            text = this.state.templates.get(this.state.templateId);\n            console.log(text);\n            text = text.text;\n            this.setState( {template:text, rendered:text} )\n        }\n        else {\n            text = this.state.templates.get(this.state.templateId);\n            text = text.text;\n            this.setState( {template:text}, this.loadTemplate())\n            \n        }\n    });\n        \n        \n    }\n    \n    loadTemplate = () => {\n        let text = this.state.template.split('');\n        console.log(text)\n\n        let first = this.upFirst(this.props.name.first);\n        let last = this.upFirst(this.props.name.last);\n        let company = this.upFirst(this.props.name.domain.split('.')[0]);\n\n\n        for(let i = 0; i < text.length-1; i++){\n            if(text[i] === '{'){\n                let j = i;\n                while(text[j] !== \"}\"){\n                    j = j + 1;\n                }\n                let word = text.slice(i+1, j).join('');\n                let repwr;\n                switch(word){\n                    case \"FullName\":\n                        repwr = first + \" \" + last;\n                        break;\n                    case \"FirstName\":\n                        repwr = first;\n                        console.log(text[i], first)\n                        break;\n                    case \"LastName\":\n                        repwr = last;\n                        break;\n                    case \"Company\":\n                        repwr = company;\n                        break;\n                }\n                text.splice(i, j-i+1, repwr)\n                \n            }\n            \n        }\n\n        text = text.join('');\n\n        this.setState( {text, rendered: text} );\n\n    }\n\n\n\n    render(){\n\n        let templates = [];\n\n        this.state.templates.forEach((x, i) => {\n            if(x) templates.push(<option key={i} value={x.name}>{x.name}</option>)\n        })\n\n        let tempSet = <span>\n                        <select onClick={this.placeAttribute}>\n                            <option value=\"Add attribute\">Add attribute</option>\n                            <option value=\"FullName\">Full Name</option>\n                            <option value=\"FirstName\">First Name</option>\n                            <option value=\"LastName\">Last Name</option>\n                            <option value=\"Company\">Company</option>\n                        </select>\n                       \n                    </span>\n        \n\n        return(\n            <div className=\"Message\">\n                \n                <div className=\"EmailForm\">\n                    <input id=\"to\" placeholder=\"To\" value={this.props.selAdd}/>\n                    <input  id=\"subject\" placeholder=\"Subject\" onChange={this.changeSubject}/>\n                    \n                    <div id=\"setting\">\n                        {this.state.newTemplate ?  <input id=\"templateName\" placeholder=\"Name the new template\"/> : null}\n                        {this.state.mode ? tempSet : null}\n                    \n                        <Switch className=\"Switch\" onChange={this.changeMode} checked={this.state.mode} />\n                        {this.state.newTemplate ? null :\n                            <select id=\"templatesName\" onClick={(e) => this.selectTemplate(e.target.value)}>\n                                <option>Add template</option>\n                                {templates}\n                            </select>}\n                    </div>\n\n                    <textarea  id=\"emailEditor\" placeholder=\"Type your email\" onChange={this.changeMessage} onClick={this.getCursPos} value={this.state.rendered}/>\n                    {this.state.mode ? \n                    <span>\n                        <button id=\"delete\" onClick={(e)=>this.templateAction(e.target.id)}>Delete</button>\n                        <button id=\"update\" onClick={(e)=>this.templateAction(e.target.id)}>Update</button>\n                    </span>\n                    : <button onClick={this.sendMessage}>Send</button>}\n                    {this.state.newTemplate ? <button id=\"save\" onClick={(e)=>this.templateAction(e.target.id)}>Save</button> :\n                    <button id=\"new\" onClick={(e)=>this.templateAction(e.target.id)}>New</button>}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Message;"]},"metadata":{},"sourceType":"module"}